(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{280:function(e){e.exports=JSON.parse('{"*":"All events","update-organization":"Update team","delete-organization":"Delete team","update-organization-billing":"Update team billing","update-organization-subscription":"Update team subscription","create-organization-subscription":"Create team subscription","delete-organization-source":"Delete team source","update-organization-source":"Update team source","create-organization-source":"Create team source","update-api-key":"Update api key","create-api-key":"Create api key","delete-api-key":"Delete api key","update-domain":"Update domain","create-domain":"Create domain","delete-domain":"Delete domain","verify-domain":"Verify domain","test-webhook":"Test webhook","update-webhook":"Update webhook","create-webhook":"Create webhook","delete-webhook":"Delete webhook"}')},346:function(e,t,o){"use strict";o.r(t);o(19),o(20),o(13),o(40),o(34);var n=o(7),r=o(21),c=o(118),l=o(22),d=o(23),h=o(9),f=o(8),k=o(55),v=o(280);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(d.a)(this,o)}}var w=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},y=function(e){Object(l.a)(k,e);var t,o,d,h,f=m(k);function k(){var e;return Object(r.a)(this,k),(e=f.apply(this,arguments)).loading=!1,e.loadingUpdate=!1,e.loadingDelete=!1,e.webhook={},e.webhooksData=v,e}return Object(c.a)(k,[{key:"created",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get());case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"get",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$axios.get("/organizations/".concat(this.$route.params.username,"/webhooks/").concat(this.$route.params.id));case 4:t=e.sent,data=t.data,this.webhook=data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.$router.push("/organizations/".concat(this.$route.params.username,"/developers/webhooks"));case 12:this.loading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return d.apply(this,arguments)})},{key:"save",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadingUpdate){e.next=2;break}return e.abrupt("return");case 2:return this.loadingUpdate=!0,e.prev=3,e.next=6,this.$axios.patch("/organizations/".concat(this.$route.params.username,"/webhooks/").concat(this.$route.params.id),{url:this.webhook.url,isActive:this.webhook.isActive});case 6:t=e.sent,data=t.data,this.webhook=data.updated,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:this.loadingUpdate=!1;case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return o.apply(this,arguments)})},{key:"deleteWebhook",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,o){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadingDelete){e.next=2;break}return e.abrupt("return");case 2:this.$buefy.dialog.confirm({title:"Deleting webhook",message:"Are you sure you want to delete your webhook for <strong>".concat(o,"</strong>? This action is not reversible, and this webhook will stop triggering immediately."),confirmText:"Yes, delete webhook",cancelText:"No, don't delete",type:"is-danger",hasIcon:!0,trapFocus:!0,onConfirm:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.loadingDelete=!0,e.prev=1,e.next=4,r.$axios.delete("/organizations/".concat(r.$route.params.username,"/webhooks/").concat(t));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:r.$router.push("/teams/".concat(r.$route.params.username,"/developers/webhooks"));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e,this)}))),function(e,o){return t.apply(this,arguments)})}]),k}(k.b),x=y=w([Object(k.a)({middleware:"authenticated",layout:"teams"})],y),_=o(14),component=Object(_.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",{staticClass:"is-size-4",staticStyle:{"margin-bottom":"1rem"}},[o("b-button",{staticStyle:{"margin-right":"1rem"},attrs:{tag:"nuxt-link",to:"/teams/"+e.$route.params.username+"/developers/webhooks","icon-right":"arrow-left"}}),e._v(" "),o("span",[e._v("Webhook")])],1),e._v(" "),o("form",{staticStyle:{margin:"0.5rem 0 1.5rem"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[o("b-field",{attrs:{label:"URL"}},[o("b-input",{attrs:{type:"url",required:""},model:{value:e.webhook.url,callback:function(t){e.$set(e.webhook,"url",t)},expression:"webhook.url"}})],1),e._v(" "),o("b-field",{attrs:{label:"Event"}},[o("b-select",{attrs:{expanded:"",required:""},model:{value:e.webhook.event,callback:function(t){e.$set(e.webhook,"event",t)},expression:"webhook.event"}},e._l(e.webhooksData,(function(t,n){return o("option",{key:"t"+n+t,domProps:{value:n}},[e._v("\n          "+e._s(t)+"\n        ")])})),0)],1),e._v(" "),o("b-field",{attrs:{label:"Content type"}},[o("b-select",{attrs:{expanded:"",required:""},model:{value:e.webhook.contentType,callback:function(t){e.$set(e.webhook,"contentType",t)},expression:"webhook.contentType"}},[o("option",[e._v("application/json")]),e._v(" "),o("option",[e._v("text/plain")])])],1),e._v(" "),o("b-field",{attrs:{label:"Secret"}},[o("b-input",{attrs:{type:"text"},model:{value:e.webhook.secret,callback:function(t){e.$set(e.webhook,"secret",t)},expression:"webhook.secret"}})],1),e._v(" "),o("b-field",[o("b-checkbox",{model:{value:e.webhook.isActive,callback:function(t){e.$set(e.webhook,"isActive",t)},expression:"webhook.isActive"}},[e._v("\n        Active\n      ")])],1),e._v(" "),o("b-button",{attrs:{type:"is-primary","native-type":"submit",loading:e.loadingUpdate}},[e._v("\n      Update webhook\n    ")])],1),e._v(" "),o("h2",{staticClass:"is-size-5"},[e._v("Danger zone")]),e._v(" "),o("p",{staticStyle:{margin:"1rem 0"}},[e._v("\n    If you don't want this webhook to trigger anymore, you can delete it.\n  ")]),e._v(" "),o("b-button",{attrs:{type:"is-danger",loading:e.loadingDelete},on:{click:function(t){return e.deleteWebhook(e.webhook.id,e.webhooksData[e.webhook.event]||e.webhook.event)}}},[e._v("\n    Delete webhook\n  ")]),e._v(" "),o("b-loading",{attrs:{"is-full-page":!1,active:e.loading},on:{"update:active":function(t){e.loading=t}}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);