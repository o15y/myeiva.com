(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{268:function(e,t,r){var n=r(29),o=r(57),l=r(46),c=r(77).f;e.exports=function(e){return function(t){for(var r,d=l(t),v=o(d),m=v.length,i=0,f=[];m>i;)r=v[i++],n&&!c.call(d,r)||f.push(e?[r,d[r]]:d[r]);return f}}},273:function(e,t,r){var n=r(24),o=r(268)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},274:function(e,t,r){var n=r(24),o=r(268)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},276:function(e,t,r){var content=r(291);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(28).default)("34af6cb4",content,!0,{sourceMap:!1})},277:function(e,t,r){var content=r(293);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(28).default)("380e3d88",content,!0,{sourceMap:!1})},290:function(e,t,r){"use strict";var n=r(276);r.n(n).a},291:function(e,t,r){(t=r(27)(!1)).push([e.i,".container[data-v-61bd66f1]{margin:2.5vw auto 5vw;max-width:600px}h1[data-v-61bd66f1]{margin-top:2.5vw}li[data-v-61bd66f1]{list-style-type:circle;margin-left:1.75rem}",""]),e.exports=t},292:function(e,t,r){"use strict";var n=r(277);r.n(n).a},293:function(e,t,r){(t=r(27)(!1)).push([e.i,".security-preset .b-slider-tick-label{margin-top:1rem}",""]),e.exports=t},318:function(e,t,r){"use strict";r.r(t);r(19),r(20),r(40),r(273),r(56),r(67),r(35),r(13),r(274),r(34);var n=r(7),o=(r(41),r(21)),l=r(118),c=r(22),d=r(23),v=r(9),m=r(8),f=r(55),y=r(47),h=r(53),_=r.n(h),C=r(275),x=r.n(C);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var N=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},S=x.a.getAllCountries(),z=function(e){Object(c.a)(v,e);var t,r,d=k(v);function v(){var e;return Object(o.a)(this,v),(e=d.apply(this,arguments)).userName="",e.userUsername="",e.userCountryCode="us",e.userPrefersColorScheme="NO_PREFERENCE",e.userPrefersReducedMotion="NO_PREFERENCE",e.userGender="UNKNOWN",e.userTimezone="America/Los_Angeles",e.teamName="Ara Isaacson (AI)",e.value=0,e.loading=!1,e.countrySearchQuery="United States",e.filteredTimezonesArray=x.a.getTimezonesForCountry("US").map((function(i){return i.name})),e.securityPreset=1,e}return Object(l.a)(v,[{key:"created",value:function(){this.userName=this.$store.state.auth.user.details.name,this.userUsername=this.$store.state.auth.user.details.username,this.userCountryCode=this.$store.state.auth.user.details.countryCode}},{key:"mounted",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://ipinfo.io/json");case 3:n=e.sent,data=n.data,this.userCountryCode=(null!==(t=data.country)&&void 0!==t?t:"US").toLocaleLowerCase(),this.userTimezone=null!==(r=data.timezone)&&void 0!==r?r:"America/Los_Angeles",data.country&&(o=x.a.getCountry(data.country))&&(this.countrySearchQuery=o.name),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return r.apply(this,arguments)})},{key:"onCountrySearchQueryChanged",value:function(e){var t=Object.entries(S).filter((function(i){return i[1].name===e}));t.length&&(this.userCountryCode=t[0][0].toLocaleLowerCase()),this.filteredTimezonesArray=(x.a.getTimezonesForCountry(this.userCountryCode.toLocaleUpperCase())||[]).map((function(i){return i.name})),!this.filteredTimezonesArray.includes(this.userTimezone)&&this.filteredTimezonesArray.length&&(this.userTimezone=this.filteredTimezonesArray[0])}},{key:"onCountryCodeChanged",value:function(e){console.log(e);var t=Object.entries(S).filter((function(i){return i[1].name===e}));t.length&&(this.userCountryCode=t[0][0].toLocaleLowerCase())}},{key:"goToNextStep",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=2===this.securityPreset,r=0===this.securityPreset?"ACCOUNT":1===this.securityPreset?"UPDATES":"PROMOTIONS",console.log({checkLocationOnLogin:t,notificationEmails:r}),console.log({name:this.userName,username:this.userUsername,countryCode:this.userCountryCode?this.userCountryCode:void 0,timezone:this.userTimezone,gender:this.userGender,prefersColorScheme:this.userPrefersColorScheme,prefersReducedMotion:this.userPrefersReducedMotion?"REDUCE":"NO_PREFERENCE"}),!(this.value<3)){e.next=33;break}if(this.loading=!0,2!==this.value){e.next=24;break}return e.prev=7,e.next=10,this.$axios.put("/organizations",{name:this.userName,assistantName:this.teamName});case 10:return n=e.sent,data=n.data,e.next=14,this.$axios.get("/users/".concat(this.username,"/memberships"));case 14:return o=e.sent.data,this.$store.commit("auth/setUserDetails",{memberships:o}),e.abrupt("return",this.$router.push("/teams/".concat(data.added.username)));case 19:return e.prev=19,e.t0=e.catch(7),e.abrupt("return",this.$router.push("/"));case 22:e.next=31;break;case 24:return e.prev=24,e.next=27,this.$axios.patch("/users/".concat(this.username),0===this.value?{name:this.userName,username:this.userUsername,countryCode:this.userCountryCode?this.userCountryCode:void 0,timezone:this.userTimezone,gender:this.userGender,prefersColorScheme:this.userPrefersColorScheme,prefersReducedMotion:this.userPrefersReducedMotion?"REDUCE":"NO_PREFERENCE"}:{checkLocationOnLogin:t,notificationEmails:r});case 27:e.next=31;break;case 29:e.prev=29,e.t1=e.catch(24);case 31:this.loading=!1,this.value+=1;case 33:case"end":return e.stop()}}),e,this,[[7,19],[24,29]])}))),function(){return t.apply(this,arguments)})},{key:"username",get:function(){var e,t,r;try{return null!==(r=(null!==(t=(null!==(e=this.user)&&void 0!==e?e:{}).details)&&void 0!==t?t:{}).username)&&void 0!==r?r:"me"}catch(e){}return"me"}},{key:"filteredCountriesArray",get:function(){var e=this;return Object.values(S).filter((function(i){return i.name.toLocaleLowerCase().includes(e.countrySearchQuery.toLocaleLowerCase())})).map((function(i){return i.name}))}}]),v}(f.b);N([Object(f.c)("countrySearchQuery")],z.prototype,"onCountrySearchQueryChanged",null),N([Object(f.c)("selectedCountryCode")],z.prototype,"onCountryCodeChanged",null);var O=z=N([Object(f.a)({middleware:"authenticated",computed:Object(y.b)({user:"auth/user"})})],z),R=(r(290),r(292),r(14)),component=Object(R.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("b-steps",{attrs:{"has-navigation":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[r("b-step-item",{attrs:{label:"Profile",clickable:!0}},[r("h1",{staticClass:"title has-text-centered"},[e._v("Set up your account")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.goToNextStep(t)}}},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{size:"is-medium"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:"Country"}},[r("b-autocomplete",{attrs:{data:e.filteredCountriesArray,"keep-first":!0,"open-on-focus":!0,placeholder:"e.g. United States",size:"is-medium"},on:{select:function(t){return e.selectedCountryCode=t}},model:{value:e.countrySearchQuery,callback:function(t){e.countrySearchQuery=t},expression:"countrySearchQuery"}},[r("template",{slot:"empty"},[e._v("No results found")])],2)],1)],1),e._v(" "),r("div",{staticClass:"column"},[r("b-field",[r("template",{slot:"label"},[e._v("\n                Timezone\n                "),r("b-tooltip",{attrs:{type:"is-dark",label:"We need your timezone to show you local times"}},[r("b-icon",{attrs:{size:"is-small",icon:"help-circle-outline"}})],1)],1),e._v(" "),r("b-select",{attrs:{placeholder:"Select a name",size:"is-medium",expanded:""},model:{value:e.userTimezone,callback:function(t){e.userTimezone=t},expression:"userTimezone"}},e._l(e.filteredTimezonesArray,(function(t,i){return r("option",{key:"t"+i+t,domProps:{value:t}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0)],2)],1)]),e._v(" "),r("b-field",[r("template",{slot:"label"},[e._v("\n            Gender\n            "),r("b-tooltip",{attrs:{type:"is-dark",label:"MALE"===e.userGender?"We'll use him/his as your pronoun":"FEMALE"===e.userGender?"We'll use her/her as your pronoun":"We'll use they/them as your pronoun"}},[r("b-icon",{attrs:{size:"is-small",icon:"help-circle-outline"}})],1)],1),e._v(" "),r("div",[r("b-radio",{attrs:{name:"radioGender","native-value":"MALE"},model:{value:e.userGender,callback:function(t){e.userGender=t},expression:"userGender"}},[e._v("\n              Male\n            ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"FEMALE"},model:{value:e.userGender,callback:function(t){e.userGender=t},expression:"userGender"}},[e._v("\n              Female\n            ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"NONBINARY"},model:{value:e.userGender,callback:function(t){e.userGender=t},expression:"userGender"}},[e._v("\n              Non-binary\n            ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"UNKNOWN"},model:{value:e.userGender,callback:function(t){e.userGender=t},expression:"userGender"}},[e._v("\n              Prefer not to say\n            ")])],1)],2),e._v(" "),r("div",{staticStyle:{"margin-bottom":"0.5rem","font-weight":"bold"}},[e._v("\n          Accessibility\n        ")]),e._v(" "),r("b-field",[r("b-checkbox",{attrs:{"true-value":"REDUCE","false-value":"REDUCE"},model:{value:e.userPrefersReducedMotion,callback:function(t){e.userPrefersReducedMotion=t},expression:"userPrefersReducedMotion"}},[e._v("I prefer reduced motion")])],1),e._v(" "),r("div",{staticClass:"buttons",staticStyle:{"margin-top":"1.5rem"}},[r("b-button",{attrs:{type:"is-primary","native-type":"submit",size:"is-medium",loading:e.loading}},[e._v("Save and continue")])],1)],1)]),e._v(" "),r("b-step-item",{attrs:{label:"Security",clickable:!0}},[r("h1",{staticClass:"title has-text-centered"},[e._v("Select your security settings")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.goToNextStep(t)}}},[r("b-field",{attrs:{label:"Security preset"}},[r("b-slider",{staticClass:"security-preset",attrs:{min:0,max:2,"aria-label":"Security preset",tooltip:!1,rounded:""},model:{value:e.securityPreset,callback:function(t){e.securityPreset=t},expression:"securityPreset"}},[r("b-slider-tick",{attrs:{value:0}},[e._v("Most open")]),e._v(" "),r("b-slider-tick",{attrs:{value:1}},[e._v("Balanced")]),e._v(" "),r("b-slider-tick",{attrs:{value:2}},[e._v("Most secure")])],1)],1),e._v(" "),r("div",{staticStyle:{margin:"3.5rem 0 2rem 0"}},[0===e.securityPreset?r("div",[r("h3",{staticClass:"is-size-5"},[e._v("Most open")]),e._v(" "),r("ul",[r("li",[e._v("We won't verify your logins based on your location")]),e._v(" "),r("li",[e._v("We'll log you in for up to 365 days")]),e._v(" "),r("li",[e._v("\n                You'll receive security emails and updates\n              ")]),e._v(" "),r("li",[e._v("\n                You won't have to re-enter your password for secure actions\n              ")]),e._v(" "),r("li",[e._v("You can download or delete your data at any time")])])]):1===e.securityPreset?r("div",[r("h3",{staticClass:"is-size-5"},[e._v("Balanced")]),e._v(" "),r("ul",[r("li",[e._v("We won't verify your logins based on your location")]),e._v(" "),r("li",[e._v("We'll log you in for up to 30 days")]),e._v(" "),r("li",[e._v("\n                You'll receive account and security emails, no promotions\n              ")]),e._v(" "),r("li",[e._v("\n                You'll have to re-enter your password for secure actions\n              ")]),e._v(" "),r("li",[e._v("You can download or delete your data at any time")])])]):r("div",[r("h3",{staticClass:"is-size-5"},[e._v("Most secure")]),e._v(" "),r("ul",[r("li",[e._v("We'll verify your logins based on your location")]),e._v(" "),r("li",[e._v("We'll log you in for up to 7 days")]),e._v(" "),r("li",[e._v("\n                You'll receive only security emails\n              ")]),e._v(" "),r("li",[e._v("\n                You'll have to re-enter your password for secure actions\n              ")]),e._v(" "),r("li",[e._v("You can download or delete your data at any time")])])])]),e._v(" "),r("b-button",{attrs:{type:"is-primary","native-type":"submit",size:"is-medium",loading:e.loading}},[e._v("Save and continue")])],1)]),e._v(" "),r("b-step-item",{attrs:{label:"Assistant",clickable:!0}},[r("h1",{staticClass:"title has-text-centered"},[e._v("Setup your assistant")]),e._v(" "),r("form",{staticClass:"has-text-centered",on:{submit:function(t){return t.preventDefault(),e.goToNextStep(t)}}},[r("div",{staticClass:"is-size-1"},[e._v("ðŸ¢")]),e._v(" "),r("b-field",{attrs:{label:"Assistant name"}},[r("b-input",{attrs:{size:"is-medium"},model:{value:e.teamName,callback:function(t){e.teamName=t},expression:"teamName"}})],1),e._v(" "),r("b-button",{attrs:{type:"is-primary","native-type":"submit",size:"is-medium",loading:e.loading}},[e._v("\n          Setup assistant\n        ")])],1)])],1)],1)}),[],!1,null,"61bd66f1",null);t.default=component.exports}}]);