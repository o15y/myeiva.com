(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{315:function(t,e,r){"use strict";r.r(e);r(19),r(20),r(13),r(40),r(76),r(34);var n=r(7),c=r(21),o=r(118),l=r(22),f=r(23),h=r(9),d=r(8),v=r(55),y=r(47);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var c=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var O=function(t,e,r,desc){var n,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(c<3?n(o):c>3?n(e,r,o):n(e,r))||o);return c>3&&o&&Object.defineProperty(e,r,o),o},m=function(t){Object(l.a)(f,t);var e,r=j(f);function f(){var t;return Object(c.a)(this,f),(t=r.apply(this,arguments)).state="loading",t}return Object(o.a)(f,[{key:"mounted",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("auth/refresh");case 3:e=t.sent,this.$axios.setHeader("Authorization",e),console.log("Updated new token",e),this.$router.go(-1),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Got error, logging out"),this.$store.dispatch("auth/logout"),this.$router.replace("/");case 14:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})}]),f}(v.b),w=m=O([Object(v.a)({layout:"auth",computed:Object(y.b)({isAuthenticated:"auth/isAuthenticated"})})],m),R=r(14),component=Object(R.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return"loading"===t.state?r("div",[r("img",{attrs:{alt:"",src:"/illustrations/PlantDoodle.svg"}}),t._v(" "),r("h1",{staticClass:"title is-4",staticStyle:{"margin-top":"1rem"}},[t._v("Securely refreshing...")]),t._v(" "),r("div",{staticClass:"content"},[t._v("\n    It's been a few minutes since you used this app, so we're making sure\n    you're logged in.\n  ")]),t._v(" "),r("b-loading",{attrs:{active:!0,"is-full-page":!1}})],1):r("div",[r("h1",{staticClass:"title is-4"},[t._v("Error")]),t._v(" "),r("div",{staticClass:"content"})])}),[],!1,null,null,null);e.default=component.exports}}]);