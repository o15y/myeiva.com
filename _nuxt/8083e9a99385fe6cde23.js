(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{320:function(t,e,r){"use strict";r.r(e);r(19),r(20),r(13),r(40),r(41),r(34);var n=r(7),o=r(21),c=r(118),l=r(22),d=r(23),m=r(9),f=r(8),v=r(55);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var h=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},x=function(t){Object(l.a)(f,t);var e,r,d,m=y(f);function f(){var t;return Object(o.a)(this,f),(t=m.apply(this,arguments)).customer={email:"",name:"",phone:"",address:{city:"",country:"",line1:"",line2:"",postal_code:"",state:""}},t.loading=!1,t.loadingSave=!1,t}return Object(c.a)(f,[{key:"mounted",value:(d=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.get());case 1:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"get",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$axios.get("/organizations/".concat(this.$route.params.username,"/billing"));case 4:e=t.sent,(data=e.data).address||(data.address={city:"",country:"",line1:"",line2:"",postal_code:"",state:""}),this.customer=data,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:this.loading=!1;case 13:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(){return r.apply(this,arguments)})},{key:"save",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingSave=!0,t.prev=1,t.next=4,this.$axios.patch("/organizations/".concat(this.$route.params.username,"/billing"),{name:this.customer.name,email:this.customer.email,phone:this.customer.phone,address:this.customer.address});case 4:t.sent.data,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:this.loadingSave=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return e.apply(this,arguments)})}]),f}(v.b),_=x=h([Object(v.a)({middleware:"authenticated",layout:"teams"})],x),k=r(14),component=Object(k.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",{staticClass:"is-size-4"},[t._v("Customer details")]),t._v(" "),r("form",{staticStyle:{"margin-top":"1rem"},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{type:"text",required:""},model:{value:t.customer.name,callback:function(e){t.$set(t.customer,"name",e)},expression:"customer.name"}})],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"Email"}},[r("b-input",{attrs:{type:"email",required:""},model:{value:t.customer.email,callback:function(e){t.$set(t.customer,"email",e)},expression:"customer.email"}})],1),t._v(" "),r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"Phone"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.phone,callback:function(e){t.$set(t.customer,"phone",e)},expression:"customer.phone"}})],1)],1),t._v(" "),r("b-field",{attrs:{label:"Address"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.address.line1,callback:function(e){t.$set(t.customer.address,"line1",e)},expression:"customer.address.line1"}})],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"Postal code"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.address.postal_code,callback:function(e){t.$set(t.customer.address,"postal_code",e)},expression:"customer.address.postal_code"}})],1),t._v(" "),r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"City"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.address.city,callback:function(e){t.$set(t.customer.address,"city",e)},expression:"customer.address.city"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"State"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.address.state,callback:function(e){t.$set(t.customer.address,"state",e)},expression:"customer.address.state"}})],1),t._v(" "),r("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0","padding-bottom":"0"},attrs:{label:"Country"}},[r("b-input",{attrs:{type:"text"},model:{value:t.customer.address.country,callback:function(e){t.$set(t.customer.address,"country",e)},expression:"customer.address.country"}})],1)],1),t._v(" "),r("b-button",{attrs:{type:"is-primary","native-type":"submit",loading:t.loadingSave}},[t._v("\n      Update details\n    ")]),t._v(" "),r("b-loading",{attrs:{"is-full-page":!1,active:t.loading},on:{"update:active":function(e){t.loading=e}}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);