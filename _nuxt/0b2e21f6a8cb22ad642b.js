(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{268:function(e,t,r){var n=r(29),o=r(57),c=r(46),l=r(77).f;e.exports=function(e){return function(t){for(var r,d=c(t),f=o(d),m=f.length,i=0,v=[];m>i;)r=f[i++],n&&!l.call(d,r)||v.push(e?[r,d[r]]:d[r]);return v}}},273:function(e,t,r){var n=r(24),o=r(268)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},274:function(e,t,r){var n=r(24),o=r(268)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},331:function(e,t,r){"use strict";r.r(t);r(58),r(36),r(45),r(19),r(20),r(40),r(273);var n=r(30),o=(r(56),r(67),r(35),r(13),r(274),r(34),r(7)),c=(r(41),r(21)),l=r(118),d=r(22),f=r(23),m=r(9),v=r(8),y=r(275),h=r.n(y),O=r(55);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var j=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},w=h.a.getAllCountries(),x=function(e){Object(d.a)(m,e);var t,r,n,f=k(m);function m(){var e;return Object(c.a)(this,m),(e=f.apply(this,arguments)).loading=!1,e.user={},e.countrySearchQuery="United States",e.languages={"en-us":"English (United States)","en-in":"English (India)"},e.filteredTimezonesArray=h.a.getTimezonesForCountry("US").map((function(i){return i.name})),e}return Object(l.a)(m,[{key:"created",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"get",value:(r=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r,data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$axios.get("/users/".concat(this.$route.params.username));case 4:r=e.sent,data=r.data,this.user=data,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:this.loading=!1,(n=h.a.getCountry((null!==(t=this.user.countryCode)&&void 0!==t?t:"US").toLocaleUpperCase()))&&(this.countrySearchQuery=n.name);case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return r.apply(this,arguments)})},{key:"onCountryCodeChanged",value:function(e){console.log(e);var t=Object.entries(w).filter((function(i){return i[1].name===e}));t.length&&(this.user.countryCode=t[0][0].toLocaleLowerCase())}},{key:"onCountrySearchQueryChanged",value:function(e){var t=Object.entries(w).filter((function(i){return i[1].name===e}));t.length&&(this.user.countryCode=t[0][0].toLocaleLowerCase()),this.filteredTimezonesArray=(h.a.getTimezonesForCountry(this.user.countryCode.toLocaleUpperCase())||[]).map((function(i){return i.name})),!this.filteredTimezonesArray.includes(this.user.timezone)&&this.filteredTimezonesArray.length&&(this.user.timezone=this.filteredTimezonesArray[0])}},{key:"save",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_({},this.user),["createdAt","id","primaryEmail","role","twoFactorEnabled","twoFactorSecret","updatedAt"].forEach((function(i){return delete r[i]})),this.loading=!0,e.prev=3,e.next=6,this.$axios.patch("/users/".concat(this.$route.params.username),r);case 6:n=e.sent,data=n.data,this.user=data.updated,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:this.loading=!1,(o=h.a.getCountry((null!==(t=this.user.countryCode)&&void 0!==t?t:"US").toLocaleUpperCase()))&&(this.countrySearchQuery=o.name);case 16:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return t.apply(this,arguments)})},{key:"filteredCountriesArray",get:function(){var e=this;return Object.values(w).filter((function(i){return i.name.toLocaleLowerCase().includes(e.countrySearchQuery.toLocaleLowerCase())})).map((function(i){return i.name}))}}]),m}(O.b);j([Object(O.c)("selectedCountryCode")],x.prototype,"onCountryCodeChanged",null),j([Object(O.c)("countrySearchQuery")],x.prototype,"onCountrySearchQueryChanged",null);var S=x=j([Object(O.a)({middleware:"authenticated",layout:"users"})],x),z=r(14),component=Object(z.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"is-size-4"},[e._v("Account settings")]),e._v(" "),r("form",{staticStyle:{"margin-top":"1rem"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{type:"text",size:"is-medium",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:"Username"}},[r("b-input",{attrs:{type:"text",size:"is-medium",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)],1),e._v(" "),r("div",{staticClass:"column"},[r("b-field",[r("template",{slot:"label"},[e._v("\n            Nickname\n            "),r("b-tooltip",{attrs:{type:"is-dark",label:"We'll call you by your nickname"}},[r("b-icon",{attrs:{size:"is-small",icon:"help-circle-outline"}})],1)],1),e._v(" "),r("b-input",{attrs:{type:"text",size:"is-medium",required:""},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],2)],1)]),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:"Country"}},[r("b-autocomplete",{attrs:{data:e.filteredCountriesArray,"keep-first":!0,"open-on-focus":!0,placeholder:"e.g. United States",size:"is-medium"},on:{select:function(t){return e.selectedCountryCode=t}},model:{value:e.countrySearchQuery,callback:function(t){e.countrySearchQuery=t},expression:"countrySearchQuery"}},[r("template",{slot:"empty"},[e._v("No results found")])],2)],1)],1),e._v(" "),r("div",{staticClass:"column"},[r("b-field",[r("template",{slot:"label"},[e._v("\n            Timezone\n            "),r("b-tooltip",{attrs:{type:"is-dark",label:"We need your timezone to show you local times"}},[r("b-icon",{attrs:{size:"is-small",icon:"help-circle-outline"}})],1)],1),e._v(" "),r("b-select",{attrs:{placeholder:"Select a name",size:"is-medium",expanded:""},model:{value:e.user.timezone,callback:function(t){e.$set(e.user,"timezone",t)},expression:"user.timezone"}},e._l(e.filteredTimezonesArray,(function(t,i){return r("option",{key:"t"+i+t,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])})),0)],2)],1)]),e._v(" "),r("b-field",{attrs:{label:"Language"}},[r("b-select",{attrs:{placeholder:"Select a language",size:"is-medium",expanded:""},model:{value:e.user.prefersLanguage,callback:function(t){e.$set(e.user,"prefersLanguage",t)},expression:"user.prefersLanguage"}},e._l(e.languages,(function(t,i){return r("option",{key:"t"+i+t,domProps:{value:i}},[e._v("\n          "+e._s(t)+"\n        ")])})),0)],1),e._v(" "),r("b-field",[r("template",{slot:"label"},[e._v("\n        Gender\n        "),r("b-tooltip",{attrs:{type:"is-dark",label:"MALE"===e.user.gender?"We'll use him/his as your pronoun":"FEMALE"===e.user.gender?"We'll use her/her as your pronoun":"We'll use they/them as your pronoun"}},[r("b-icon",{attrs:{size:"is-small",icon:"help-circle-outline"}})],1)],1),e._v(" "),r("div",[r("b-radio",{attrs:{name:"radioGender","native-value":"MALE"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("\n          Male\n        ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"FEMALE"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("\n          Female\n        ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"NONBINARY"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("\n          Non-binary\n        ")]),e._v(" "),r("b-radio",{attrs:{name:"radioGender","native-value":"UNKNOWN"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[e._v("\n          Prefer not to say\n        ")])],1)],2),e._v(" "),r("div",{staticStyle:{"margin-bottom":"0.5rem","font-weight":"bold"}},[e._v("\n      Security\n    ")]),e._v(" "),r("b-field",[r("b-checkbox",{model:{value:e.user.checkLocationOnLogin,callback:function(t){e.$set(e.user,"checkLocationOnLogin",t)},expression:"user.checkLocationOnLogin"}},[e._v("\n        Verify my location when I login\n      ")])],1),e._v(" "),r("div",{staticStyle:{"margin-bottom":"0.5rem","font-weight":"bold"}},[e._v("\n      Accessibility\n    ")]),e._v(" "),r("b-field",[r("b-checkbox",{attrs:{"true-value":"REDUCE","false-value":"REDUCE"},model:{value:e.user.prefersReducedMotion,callback:function(t){e.$set(e.user,"prefersReducedMotion",t)},expression:"user.prefersReducedMotion"}},[e._v("\n        I prefer reduced motion\n      ")])],1),e._v(" "),r("div",{staticStyle:{"margin-bottom":"0.5rem","font-weight":"bold"}},[e._v("\n      Webapp color scheme\n    ")]),e._v(" "),r("div",{staticStyle:{"margin-top":"1.5rem"}},[r("b-button",{attrs:{type:"is-primary","native-type":"submit",size:"is-medium"}},[e._v("\n        Update settings\n      ")])],1),e._v(" "),r("b-loading",{attrs:{"is-full-page":!1,active:e.loading},on:{"update:active":function(t){e.loading=t}}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);