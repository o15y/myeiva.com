(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{267:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(100);var o=n(119);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},319:function(t,e,n){"use strict";n.r(e);n(19),n(20),n(13),n(40);var r=n(267),o=(n(34),n(7)),c=n(21),l=n(118),d=n(22),m=n(23),f=n(9),h=n(8),v=n(55);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var _=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},w=new(n(269).a.Tour)({defaultStepOptions:{classes:"shadow-md bg-purple-dark",scrollTo:!0}});w.addStep({text:"<strong>Welcome to EIVA!</strong> Let's get started with using this app. We'll do a quick tour so you know what's what.",attachTo:{element:".navbar-item",on:"bottom"},buttons:[{text:"Next",action:w.next}]}),w.addStep({text:"When you've set up some meetings, they'll appear here.",attachTo:{element:".card",on:"left"},buttons:[{text:"Next",action:w.next}]}),w.addStep({text:"On the locations page, you can set your preferred meeting locations, like addresses and video calls. Click on the <strong>Locations</strong> link to continue.",attachTo:{element:".menu-list li:nth-child(2)",on:"left"}});var x=function(t){Object(d.a)(f,t);var e,n,m=y(f);function f(){var t;return Object(c.a)(this,f),(t=m.apply(this,arguments)).meetings={data:[]},t.loading=!1,t.loadingMore=!1,t}return Object(l.a)(f,[{key:"mounted",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.getItem("tour-finished")||w.start(),t.abrupt("return",this.get());case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"beforeDestroy",value:function(){w.complete()}},{key:"get",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$axios.get("/organizations/".concat(this.$route.params.username,"/meetings?first=10&orderBy=id:desc&include=location").concat(this.meetings.data.length?"&after=".concat(this.meetings.data[this.meetings.data.length-1].id):""));case 4:n=t.sent,data=n.data,(e=this.meetings.data).push.apply(e,Object(r.a)(data.data.map((function(t){return t.guests&&(t.guests=JSON.parse(t.guests||[])),t.guests=t.guests.map((function(t){return t.person=t.person||{},t.company=t.company||{},t})),t.proposedTimes&&(t.proposedTimes=JSON.parse(t.proposedTimes||[])),t}))||[])),this.meetings.hasMore=data.hasMore,this.meetings=data,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return e.apply(this,arguments)})}]),f}(v.b),O=x=_([Object(v.a)({middleware:"authenticated",layout:"teams"})],x),k=n(14),component=Object(k.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading||t.meetings.data.length?t._e():n("div",{staticClass:"has-text-centered"},[n("img",{staticStyle:{"max-height":"20vh"},attrs:{alt:"",src:"/illustrations/PlantDoodle.svg"}}),t._v(" "),n("h2",{staticClass:"title is-5",staticStyle:{"margin-top":"1rem"}},[t._v("\n      No meetings yet.\n    ")]),t._v(" "),n("p",[t._v("\n      As soon as you ask your assistant to schedule a meeting, it will show up\n      here.\n    ")])]),t._v(" "),t._l(t.meetings.data,(function(e,i){return n("div",{key:"m"+i+e.id},[n("nuxt-link",{staticClass:"card",staticStyle:{display:"block"},attrs:{to:"/teams/"+t.$route.params.username+"/meetings/"+e.id}},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"columns",staticStyle:{"align-items":"center"}},[n("div",{staticClass:"column"},[t._l(e.guests,(function(r,i){return n("div",{key:"g"+e.id+i,staticClass:"media"},[n("div",{staticClass:"media-left"},[n("figure",{staticClass:"image is-48x48"},[n("img",{staticClass:"is-rounded",attrs:{src:r.person.avatar||"https://ui-avatars.com/api/?name="+r.name+"&background=e74c3c&color=fff"}})])]),t._v(" "),n("div",{staticClass:"media-content"},[n("p",{staticClass:"title is-4"},[t._v(t._s(r.name))]),t._v(" "),n("p",{staticClass:"subtitle is-6"},[t._v("\n                  "+t._s(r.company.name||r.person.location||r.address)+"\n                ")])])])})),t._v(" "),(e.guests||[]).length?t._e():n("div",[n("em",[t._v("No guests found")])])],2),t._v(" "),n("div",{staticClass:"column has-text-right"},[e.confirmedTime?n("div",[n("div",[t._v("\n                "+t._s(new Date(e.confirmedTime).toLocaleString())+"\n              ")]),t._v(" "),n("div",[t._v("\n                "+t._s(e.duration)+"-minute\n                "+t._s(((e.location||{}).type||"").replace("_"," ").toLowerCase())+"\n              ")])]):n("div",[n("div",[n("em",[t._v("Awaiting confirmation")])]),t._v(" "),n("div",[t._v("\n                "+t._s(e.duration)+"-minute\n                "+t._s(((e.location||{}).type||"").replace("_"," ").toLowerCase())+"\n              ")])])])])])])],1)})),t._v(" "),n("div",{staticClass:"has-text-centered"},[t.meetings.hasMore?n("b-button",{attrs:{"icon-right":"arrow-down",loading:t.loading},on:{click:t.get}},[t._v("\n      Load more meetings\n    ")]):t._e()],1),t._v(" "),n("b-loading",{attrs:{active:t.loading}})],2)}),[],!1,null,null,null);e.default=component.exports}}]);