(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{344:function(e,t,r){"use strict";r.r(t);r(19),r(20),r(13),r(40),r(76),r(41),r(120),r(34);var n=r(7),c=r(21),o=r(118),l=r(22),m=r(23),f=r(9),d=r(8),v=r(55);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(m.a)(this,r)}}var y=function(e,t,r,desc){var n,c=arguments.length,o=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(c<3?n(o):c>3?n(t,r,o):n(t,r))||o);return c>3&&o&&Object.defineProperty(t,r,o),o},R=function(e){Object(l.a)(d,e);var t,r,m,f=h(d);function d(){var e;return Object(c.a)(this,d),(e=f.apply(this,arguments)).loading=!1,e.loadingSave=!1,e.team={},e.ipRestrictions=[],e}return Object(o.a)(d,[{key:"created",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get());case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"get",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$axios.get("/organizations/".concat(this.$route.params.username));case 4:t=e.sent,data=t.data,this.team=data,this.team.ipRestrictions&&(this.ipRestrictions=(this.team.ipRestrictions||[]).split(",").map((function(i){return i.trim()}))),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:this.loading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(){return r.apply(this,arguments)})},{key:"save",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingSave=!0,e.prev=1,e.next=4,this.$axios.patch("/organizations/".concat(this.$route.params.username),{name:this.team.name,username:this.team.username,ipRestrictions:this.ipRestrictions.join(", ")||void 0,forceTwoFactor:this.team.forceTwoFactor});case 4:r=e.sent,data=r.data,this.team=data.updated,(null===(t=null==data?void 0:data.updated)||void 0===t?void 0:t.username)&&data.updated.username!==this.$route.params.username&&this.$router.replace(this.$route.path.replace("/".concat(this.$route.params.username,"/"),"/".concat(data.username,"/"))),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:this.loadingSave=!1;case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(){return t.apply(this,arguments)})}]),d}(v.b),w=R=y([Object(v.a)({middleware:"authenticated",layout:"teams"})],R),x=r(14),component=Object(x.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"is-size-4"},[e._v("Team settings")]),e._v(" "),r("form",{staticStyle:{"margin-top":"1rem"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{type:"text",required:""},model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1),e._v(" "),r("b-field",{attrs:{label:"Username"}},[r("b-input",{attrs:{type:"text",required:""},model:{value:e.team.username,callback:function(t){e.$set(e.team,"username",t)},expression:"team.username"}})],1),e._v(" "),r("h1",{staticClass:"is-size-5",staticStyle:{margin:"1rem 0"}},[e._v("Security settings")]),e._v(" "),r("b-field",{attrs:{label:"IP address restrictions"}},[r("b-taginput",{attrs:{icon:"ip-network",placeholder:"Add an IP CIDR"},model:{value:e.ipRestrictions,callback:function(t){e.ipRestrictions=t},expression:"ipRestrictions"}})],1),e._v(" "),r("b-field",[r("b-checkbox",{model:{value:e.team.forceTwoFactor,callback:function(t){e.$set(e.team,"forceTwoFactor",t)},expression:"team.forceTwoFactor"}},[e._v("\n        Force team members to enable two-factor authentication\n      ")])],1),e._v(" "),r("div",{staticStyle:{"margin-top":"1rem"}},[r("b-button",{attrs:{type:"is-primary","native-type":"submit",loading:e.loadingSave}},[e._v("\n        Update team settings\n      ")])],1),e._v(" "),r("b-loading",{attrs:{"is-full-page":!1,active:e.loading},on:{"update:active":function(t){e.loading=t}}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);