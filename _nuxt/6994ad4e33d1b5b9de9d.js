(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{317:function(t,e,r){"use strict";r.r(e);r(19),r(20),r(13),r(40),r(76),r(34);var n=r(7),c=r(21),o=r(118),l=r(22),f=r(23),h=r(9),v=r(8),d=r(55),y=r(47);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var c=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var m=function(t,e,r,desc){var n,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(c<3?n(o):c>3?n(e,r,o):n(e,r))||o);return c>3&&o&&Object.defineProperty(e,r,o),o},k=function(t){Object(l.a)(f,t);var e,r=j(f);function f(){var t;return Object(c.a)(this,f),(t=r.apply(this,arguments)).state="loading",t.subject="",t}return Object(o.a)(f,[{key:"mounted",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$route.query.token,this.subject="string"==typeof this.$route.query.subject?this.$route.query.subject:"",e&&this.subject){t.next=4;break}return t.abrupt("return",this.state="error");case 4:return t.prev=4,t.next=7,this.$axios.post(this.tokenEndpoint,{token:e});case 7:if(t.sent.data,"password-reset"!==this.subject){t.next=11;break}return t.abrupt("return",this.$router.replace("/auth/recover?token=".concat(e)));case 11:this.state="success",t.next=16;break;case 14:t.prev=14,t.t0=t.catch(4);case 16:case"end":return t.stop()}}),t,this,[[4,14]])}))),function(){return e.apply(this,arguments)})},{key:"tokenEndpoint",get:function(){switch(this.$route.query.subject){case"email-verify":return"/auth/verify-email";case"approve-location":return"/auth/approve-location";default:return"/auth/verify-token"}}}]),f}(d.b),_=k=m([Object(d.a)({layout:"auth",computed:Object(y.b)({isAuthenticated:"auth/isAuthenticated"})})],k),O=r(14),component=Object(O.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return"loading"===t.state?r("div",[r("h1",{staticClass:"title is-4"},[t._v("Loading...")]),t._v(" "),r("b-loading",{attrs:{active:!0}})],1):"success"===t.state?r("div",[r("b-icon",{staticStyle:{"margin-bottom":"1rem"},attrs:{icon:"check-circle",size:"is-large",type:"is-success"}}),t._v(" "),"email-verify"===t.subject?r("h1",{staticClass:"title is-4"},[t._v("Email verified")]):r("h1",{staticClass:"title is-4"},[t._v("Success")]),t._v(" "),r("div",{staticClass:"content"},["email-verify"===t.subject?r("p",[t._v("\n      Your email was successfully verified. You can now log in to your\n      account.\n    ")]):t._e(),t._v(" "),t.isAuthenticated?r("b-button",{attrs:{tag:"nuxt-link",to:"/",type:"is-primary"}},[t._v("\n      Go to dashboard →\n    ")]):r("b-button",{attrs:{tag:"nuxt-link",to:"/auth/login",type:"is-primary"}},[t._v("\n      Login to your account →\n    ")])],1)],1):r("div",[r("h1",{staticClass:"title is-4"},[t._v("Error")]),t._v(" "),r("div",{staticClass:"content"})])}),[],!1,null,null,null);e.default=component.exports}}]);